{"version":3,"sources":["/./src/Playarea.tsx","/./src/Links.tsx","/./src/Permalink.tsx","/./node_modules/balena-temen sync","/./src/DSLEditor.jsx","/./src/UserUI.jsx","/./src/App.jsx"],"names":["React","__webpack_require__","rendition_1","exports","default","props","createElement","Textarea","__assign","monospace","minRows","autoRows","maxRows","onKeyDown","event","keyCode","which","preventDefault","noTab","react_1","Links","_super","__extends","prototype","render","Box","href","Divider","Component","Permalink","call","this","Link","getPermalink","encodeURIComponent","text","e","console","log","decode","params","URLSearchParams","window","location","search","encoded","get","decodeURIComponent","webpackEmptyContext","req","Error","code","keys","resolve","module","id","DSLEditor","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","state","yaml_text","hasError","error","form_ui","value","setState","ui","cdsl","onChange","onError","yamlText","setDataFromUrl","evaluate","_this2","react","dist","Permalink_default","a","Playarea_default","placeholder","target","UserUI","UserUI_classCallCheck","UserUI_possibleConstructorReturn","UserUI_getPrototypeOf","formData","data","evaluated","temen","JSON","stringify","h4","unstable","schema","jsonSchema","uiSchema","onFormChange","renderFormData","hideSubmitButton","noop","App","App_classCallCheck","App_possibleConstructorReturn","App_getPrototypeOf","json_schema_text","json_schema","ui_object_text","ui_object","jsonSchemaText","uiSchemaText","Links_default","src_DSLEditor","onDSLChanged","onDSLError","src_UserUI"],"mappings":"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","file":"2.js","sourcesContent":["import * as React from \"react\";\nimport { Flex, Textarea, TextareaProps } from \"rendition\";\n\nfunction noTab(event: React.KeyboardEvent<HTMLElement>) {\n  const keyCode = event.keyCode || event.which;\n\n  if (keyCode == 9) {\n    event.preventDefault();\n  }\n}\n\nconst Playarea = (props: TextareaProps) => (\n    <Textarea\n      monospace={true}\n      minRows={12}\n      autoRows={true}\n      maxRows={16}\n      onKeyDown={event => noTab(event)}\n      {...props}\n    />\n);\n\nexport default Playarea;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Divider } from \"rendition\";\n\nclass Links extends Component {\n  render(): React.ReactNode {\n    return (\n      <Box>\n        Examples:\n        <a\n          href={\n            \"?yaml=version%3A 1%0Aproperties%3A%20%0A - a%3A%0A%20%20%20 type%3A string\"\n          }\n        >\n          one property\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"?yaml=title%3A resin-cli demo%0Aversion%3A 1%0Adefinitions%3A%0A%20 bootPartition%3A %26BOOT_PARTITION%0A%20%20%20 partition%3A 1%0Amapping%3A%0A%20 targets%3A%0A%20%20%20 config_json%3A%0A%20%20%20%20%20 type%3A file%0A%20%20%20%20%20 format%3A json%0A%20%20%20%20%20 location%3A%0A%20%20%20%20%20%20%20 << %3A *BOOT_PARTITION%0A%20%20%20%20%20%20%20 path%3A %2Fconfig.json%0A%20%20%20 resin_wifi%3A%0A%20%20%20%20%20 type%3A file%0A%20%20%20%20%20 format%3A ini%0A%20%20%20%20%20 location%3A%0A%20%20%20%20%20%20%20 << %3A *BOOT_PARTITION%0A%20%20%20%20%20%20%20 path%3A %2Fsystem-connections%2Fresin-wifi%0Aproperties%3A%0A%20 - network%3A%0A%20%20%20%20%20 title%3A Network%0A%20%20%20%20%20 properties%3A%0A%20%20%20%20%20%20%20 - ssid%3A%0A%20%20%20%20%20%20%20%20%20%20%20 title%3A Network SSID%0A%20%20%20%20%20%20%20%20%20%20%20 type%3A string%0A%20%20%20%20%20%20%20%20%20%20%20 minLength%3A 1%0A%20%20%20%20%20%20%20%20%20%20%20 maxLength%3A 32%0A%20%20%20%20%20%20%20%20%20%20%20 mapping%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20 target%3A resin_wifi%0A%20%20%20%20%20%20%20%20%20%20%20%20%20 path%3A wifi.ssid%0A%20%20%20%20%20%20%20 - passphrase%3A%0A%20%20%20%20%20%20%20%20%20%20%20 title%3A Network Key%0A%20%20%20%20%20%20%20%20%20%20%20 type%3A password%0A%20%20%20%20%20%20%20%20%20%20%20 minLength%3A 8%0A%20%20%20%20%20%20%20%20%20%20%20 mapping%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20 target%3A resin_wifi%0A%20%20%20%20%20%20%20%20%20%20%20%20%20 path%3A wifi-security.psk%0A%20%20%20%20%20 mapping%3A%0A%20%20%20%20%20%20%20 target%3A resin_wifi%0A%20%20%20%20%20%20%20 template%3A%0A%20%20%20%20%20%20%20%20%20 connection%3A%0A%20%20%20%20%20%20%20%20%20%20%20 type%3A wifi%0A%20%20%20%20%20%20%20%20%20 wifi%3A%0A%20%20%20%20%20%20%20%20%20%20%20 hidden%3A true%0A%20%20%20%20%20%20%20%20%20%20%20 mode%3A infrastructure%0A%20%20%20%20%20%20%20%20%20 wifi-security%3A%0A%20%20%20%20%20%20%20%20%20%20%20 auth-alg%3A open%0A%20%20%20%20%20%20%20%20%20%20%20 key-mgmt%3A wpa-psk%0A%20%20%20%20%20%20%20%20%20 ipv4%3A%0A%20%20%20%20%20%20%20%20%20%20%20 method%3A auto%0A%20%20%20%20%20%20%20%20%20 ipv6%3A%0A%20%20%20%20%20%20%20%20%20%20%20 addr-gen-mode%3A stable-privacy%0A%20%20%20%20%20%20%20%20%20%20%20 method%3A auto%0A%20 - advanced%3A%0A%20%20%20%20%20 title%3A Advanced%0A%20%20%20%20%20 properties%3A%0A%20%20%20%20%20%20%20 - hostname%3A%0A%20%20%20%20%20%20%20%20%20%20%20 title%3A Device Hostname%0A%20%20%20%20%20%20%20%20%20%20%20 type%3A string%0A%20%20%20%20%20%20%20%20%20%20%20 mapping%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20 target%3A config_json%0A%20%20%20%20%20%20%20%20%20%20%20%20%20 path%3A hostname%0A%20%20%20%20%20%20%20 - persistentLogging%3A%0A%20%20%20%20%20%20%20%20%20%20%20 title%3A Do you want to enable persistent logging%3F%0A%20%20%20%20%20%20%20%20%20%20%20 type%3A boolean%0A%20%20%20%20%20%20%20%20%20%20%20 default%3A false%0A%20%20%20%20%20%20%20%20%20%20%20 mapping%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20 target%3A config_json%0A%20%20%20%20%20%20%20%20%20%20%20%20%20 path%3A persistentLogging\"\n          }\n        >\n          simple network configuration\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"?yaml=---%0Aversion%3A 1%0Atitle%3A ResinOS Technologic TS-4900 Configuration%0Aproperties%3A%0A%20 - board%3A%0A%20%20%20%20%20 title%3A CPU Cores%0A%20%20%20%20%20 warning%3A |-%0A%20%20%20%20%20%20%20 Please make sure to select the correct number of CPU Cores for your device.%0A%20%20%20%20%20%20%20 **Failing to do so will brick your device**.%0A%20%20%20%20%20 properties%3A%0A%20%20%20%20%20%20%20 - cores%3A%0A%20%20%20%20%20%20%20%20%20%20%20 type%3A integer%0A%20%20%20%20%20%20%20%20%20%20%20 default%3A 1%0A%20%20%20%20%20%20%20%20%20%20%20 enum%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20 - value%3A 1%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20 title%3A Single%0A%20%20%20%20%20%20%20%20%20%20%20%20%20 - value%3A 4%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20 title%3A Quad%0A%20 - network%3A%0A%20%20%20%20%20 title%3A Network Connection%0A%20%20%20%20%20 properties%3A%0A%20%20%20%20%20%20%20 - networks%3A%0A%20%20%20%20%20%20%20%20%20%20%20 type%3A array%0A%20%20%20%20%20%20%20%20%20%20%20 items%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20 title%3A WiFi Network%0A%20%20%20%20%20%20%20%20%20%20%20%20%20 properties%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20 - ssid%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20 title%3A Network SSID%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20 type%3A string%0A%20%20%20%20%20%20%20%20%20%20%20%20%20 - psk%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20 title%3A Network password%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20 type%3A password%0A%20%20%20%20%20%20%20%20%20%20%20%20%20 warning%3A |-%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20 In order to have usable WiFi connectivity%2C make sure you have attached%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20 a WiFi antenna to your WiFi module.%0A%20 - advanced%3A%0A%20%20%20%20%20 title%3A Advanced%0A%20%20%20%20%20 collapsed%3A true%0A%20%20%20%20%20 properties%3A%0A%20%20%20%20%20%20%20 - appUpdatePollInterval%3A%0A%20%20%20%20%20%20%20%20%20%20%20 title%3A Application update poll interval%0A%20%20%20%20%20%20%20%20%20%20%20 help%3A Check for updates every X minutes%0A%20%20%20%20%20%20%20%20%20%20%20 type%3A integer%0A%20%20%20%20%20%20%20%20%20%20%20 min%3A 10%0A%20%20%20%20%20%20%20%20%20%20%20 default%3A 10%0A\"\n          }\n        >\n          advanced network configuration\n        </a>\n        <Divider />\n        Documentation:\n        <a href={\"https://github.com/balena-io-modules/balena-cdsl/issues/15\"}>\n          What is supported\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"https://github.com/balena-io/balena/blob/9471e79bcdaa75a567e89b7d3ce4a11979d38485/specs/configuration-dsl.md\"\n          }\n        >\n          DSL specification\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"https://github.com/balena-io/balena/blob/614c8f4c3960008f5da7feb63752040287c1f540/specs/configuration-dsl-mapping-extension.md\"\n          }\n        >\n          Mapping extensions\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"https://github.com/balena-io/balena/blob/8e9c7c177e8d730484fbfce5c4281d4c7c205565/specs/json-schema-extensions.md\"\n          }\n        >\n          JSON Schema extensions\n        </a>\n      </Box>\n    );\n  }\n}\n\nexport default Links;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Link } from \"rendition\";\n\nconst propertyName = \"yaml\";\n\ninterface PermalinkProps {\n  text?: string;\n}\n\nclass Permalink extends Component<PermalinkProps, any> {\n  constructor(props: PermalinkProps) {\n    super(props);\n  }\n\n  render(): React.ReactNode {\n    return (\n      <Box>\n        <Link href={this.getPermalink()}>permalink</Link>\n      </Box>\n    );\n  }\n\n  getPermalink() {\n    try {\n      return \"?\" + propertyName + \"=\" + encodeURIComponent(this.props.text);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  static decode(): string {\n    try {\n      const params = new URLSearchParams(window.location.search);\n      const encoded = params.get(propertyName);\n      if (params && encoded) {\n        return decodeURIComponent(encoded);\n      }\n      return null;\n    } catch (e) {\n      console.log(e);\n    }\n  }\n}\n\nexport default Permalink;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1614;","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Flex} from \"rendition\";\nimport Playarea from \"./Playarea.tsx\";\nimport * as cdsl from \"balena-cdsl\";\nimport Permalink from \"./Permalink.tsx\";\n\nfunction noop(_event) {}\n\nclass DSLEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { yaml_text: \"\", hasError: false, error: null, form_ui: null };\n  }\n\n  evaluate(value) {\n    this.setState({ yaml_text: value });\n    try {\n      const ui = cdsl.generate_ui(value);\n      this.onChange(value, ui);\n    } catch (e) {\n      this.onError(e);\n    }\n  }\n\n  onChange(yamlText, ui) {\n    this.setState({ hasError: false, form_ui: ui });\n    if (this.props.onChange) {\n      this.props.onChange(yamlText, ui);\n    }\n  }\n\n  onError(error) {\n    this.setState({ hasError: true, error: error });\n    if (this.props.onError) {\n      this.props.onError(error);\n    }\n  }\n\n  componentDidMount() {\n    this.setDataFromUrl();\n  }\n\n  setDataFromUrl() {\n    const text = Permalink.decode();\n    if (text) {\n      this.evaluate(text);\n    }\n  }\n  render() {\n    return (\n      <Box>\n        <Permalink text={this.state.yaml_text} />\n        <Flex>\n          <Playarea\n            placeholder=\"yaml\"\n            onChange={event => this.evaluate(event.target.value)}\n            value={this.state.yaml_text}\n          />\n          {this.state.hasError ? (\n            <Playarea value={this.state.error} onChange={e => noop(e)} />\n          ) : null}\n        </Flex>\n      </Box>\n    );\n  }\n}\n\nexport default DSLEditor;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Flex, Heading } from \"rendition\";\nimport Playarea from \"./Playarea.tsx\";\nimport * as temen from \"balena-temen\";\n\nimport { Form } from \"rendition/dist/unstable\";\n\nconst stringify = value => JSON.stringify(value, null, 2);\n\nclass UserUI extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      formData: null\n    };\n  }\n\n  renderFormData(event) {\n    try {\n      const data = event.formData;\n      const evaluated = temen.evaluate(data);\n      this.setState({ formData: stringify(evaluated) });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return (\n      <Box>\n        <Box>\n          <Heading.h4>Rendered form</Heading.h4>\n          <Flex>\n            <Form\n              schema={this.props.jsonSchema}\n              uiSchema={this.props.uiSchema}\n              onFormChange={event => this.renderFormData(event)}\n              hideSubmitButton={true}\n            />\n          </Flex>\n        </Box>\n        {this.state.formData ? (\n          <Box>\n            <Heading.h4>Form data (dry json)</Heading.h4>\n            <Flex>\n              <Playarea\n                placeholder={\"form data\"}\n                value={this.state.formData}\n                onChange={e => this.noop(e)}\n              />\n            </Flex>\n          </Box>\n        ) : null}\n      </Box>\n    );\n  }\n}\n\nexport default UserUI;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Divider, Flex, Heading } from \"rendition\";\nimport Links from \"./Links.tsx\";\nimport Playarea from \"./Playarea.tsx\";\nimport DSLEditor from \"./DSLEditor.jsx\";\nimport UserUI from \"./UserUI.jsx\";\n\nconst stringify = value => JSON.stringify(value, null, 2);\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      json_schema_text: \"\",\n      json_schema: {},\n      ui_object_text: \"\",\n      ui_object: {},\n      formData: \"\",\n      hasError: false\n    };\n  }\n\n  noop() {}\n\n  onDSLChanged(text, ui) {\n    const jsonSchemaText = stringify(ui.json_schema);\n    const uiSchemaText = stringify(ui.ui_object);\n    this.setState({\n      json_schema: ui.json_schema,\n      json_schema_text: jsonSchemaText,\n      ui_object: ui.ui_object,\n      ui_object_text: uiSchemaText,\n      hasError: false\n    });\n  }\n\n  onDSLError(error) {\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    return (\n      <Box>\n        <Links />\n        <Divider />\n        <DSLEditor\n          onChange={(text, ui) => this.onDSLChanged(text, ui)}\n          onError={error => this.onDSLError(error)}\n        />\n        <Divider />\n        {!this.state.hasError ? (\n          <UserUI\n            jsonSchema={this.state.json_schema}\n            uiSchema={this.state.ui_object}\n          />\n        ) : null}\n        <Divider />\n        <Box>\n          {!this.state.hasError ? (\n            <Box>\n              <Heading.h4>JSON and UI schemas</Heading.h4>\n              <Flex>\n                <Playarea\n                  placeholder=\"json schema\"\n                  onChange={e => this.noop(e)}\n                  value={this.state.json_schema_text}\n                />\n                <Playarea\n                  placeholder=\"ui object\"\n                  onChange={e => this.noop(e)}\n                  value={this.state.ui_object_text}\n                />\n              </Flex>\n            </Box>\n          ) : null}\n        </Box>\n        <Divider />\n      </Box>\n    );\n  }\n}\n\nexport default App;\n"],"sourceRoot":""}