{"version":3,"sources":["/./src/Playarea.tsx","/./src/Permalink.tsx","/./src/Links.tsx","/./node_modules/balena-cdsl sync","/./node_modules/balena-temen sync","/./src/DSLEditor.jsx","/./src/UserUI.jsx","/./src/App.jsx"],"names":["React","__webpack_require__","rendition_1","exports","default","props","createElement","Textarea","__assign","monospace","minRows","autoRows","maxRows","onKeyDown","event","keyCode","which","preventDefault","noTab","react_1","Permalink","_super","call","this","__extends","prototype","render","_a","children","text","__rest","Link","href","getPermalink","encode","e","console","log","encodeURIComponent","btoa","decode","params","URLSearchParams","window","location","search","encoded","get","atob","decodeURIComponent","Component","Permalink_1","examples","name","yaml","Links","Box","map","example","index","mx","key","Divider","webpackEmptyContext","req","Error","code","keys","resolve","module","id","DSLEditor","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","state","yaml_text","hasError","error","form_ui","value","setState","ui","cdsl","onChange","onError","yamlText","setDataFromUrl","evaluate","_this2","b64","react","dist","Permalink_default","a","Playarea_default","placeholder","target","UserUI","UserUI_classCallCheck","UserUI_possibleConstructorReturn","UserUI_getPrototypeOf","formData","data","evaluated","temen","JSON","stringify","h4","mb","unstable","schema","jsonSchema","uiSchema","onFormChange","renderFormData","hideSubmitButton","noop","App","App_classCallCheck","App_possibleConstructorReturn","App_getPrototypeOf","json_schema_text","json_schema","ui_object_text","ui_object","jsonSchemaText","uiSchemaText","Links_default","src_DSLEditor","onDSLChanged","onDSLError","src_UserUI"],"mappings":"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","file":"2.js","sourcesContent":["import * as React from \"react\";\nimport { Flex, Textarea, TextareaProps } from \"rendition\";\n\nfunction noTab(event: React.KeyboardEvent<HTMLElement>) {\n  const keyCode = event.keyCode || event.which;\n\n  if (keyCode == 9) {\n    event.preventDefault();\n  }\n}\n\nconst Playarea = (props: TextareaProps) => (\n    <Textarea\n      monospace={true}\n      minRows={12}\n      autoRows={true}\n      maxRows={16}\n      onKeyDown={event => noTab(event)}\n      {...props}\n    />\n);\n\nexport default Playarea;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Link, DefaultProps } from \"rendition\";\n\nconst propertyName = \"yaml\";\n\ninterface PermalinkProps extends DefaultProps {\n  text?: string;\n}\n\nclass Permalink extends Component<PermalinkProps, any> {\n  constructor(props: PermalinkProps) {\n    super(props);\n  }\n\n  render(): React.ReactNode {\n    const {\n      children,\n      text,\n      ...props\n    } = this.props\n    return (\n      <Link {...props} href={this.getPermalink()}>{children || 'permalink'}</Link>\n    );\n  }\n\n  getPermalink() {\n    try {\n      return \"?\" + propertyName + \"=\" + Permalink.encode(this.props.text);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  static encode(text: string): string {\n    return encodeURIComponent(btoa(text));\n  }\n\n  static decode(): string {\n    try {\n      const params = new URLSearchParams(window.location.search);\n      const encoded = params.get(propertyName);\n      if (params && encoded) {\n        return atob(decodeURIComponent(encoded));\n      }\n      return null;\n    } catch (e) {\n      console.log(e);\n    }\n  }\n}\n\nexport default Permalink;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Divider } from \"rendition\";\nimport Permalink from \"./Permalink\";\n\nconst examples = [\n  {\n    name: 'one property',\n    yaml: `version: 1\nproperties:\n - a:\n    type: string\n`\n  },\n  {\n    name: 'simple network configuration',\n    yaml: `title: resin-cli demo\nversion: 1\ndefinitions:\n  bootPartition: &BOOT_PARTITION\n    partition: 1\nmapping:\n  targets:\n    config_json:\n      type: file\n      format: json\n      location:\n        << : *BOOT_PARTITION\n        path: /config.json\n    resin_wifi:\n      type: file\n      format: ini\n      location:\n        << : *BOOT_PARTITION\n        path: /system-connections/resin-wifi\nproperties:\n  - network:\n      title: Network\n      properties:\n        - ssid:\n            title: Network SSID\n            type: string\n            minLength: 1\n            maxLength: 32\n            mapping:\n              target: resin_wifi\n              path: wifi.ssid\n        - passphrase:\n            title: Network Key\n            type: password\n            minLength: 8\n            mapping:\n              target: resin_wifi\n              path: wifi-security.psk\n      mapping:\n        target: resin_wifi\n        template:\n          connection:\n            type: wifi\n          wifi:\n            hidden: true\n            mode: infrastructure\n          wifi-security:\n            auth-alg: open\n            key-mgmt: wpa-psk\n          ipv4:\n            method: auto\n          ipv6:\n            addr-gen-mode: stable-privacy\n            method: auto\n  - advanced:\n      title: Advanced\n      properties:\n        - hostname:\n            title: Device Hostname\n            type: string\n            mapping:\n              target: config_json\n              path: hostname\n        - persistentLogging:\n            title: Do you want to enable persistent logging?\n            type: boolean\n            default: false\n            mapping:\n              target: config_json\n              path: persistentLogging\n              `\n  },\n  {\n    name: 'advanced network configuration',\n    yaml: `---\nversion: 1\ntitle: ResinOS Technologic TS-4900 Configuration\nproperties:\n  - board:\n      title: CPU Cores\n      warning: |-\n        Please make sure to select the correct number of CPU Cores for your device.\n        **Failing to do so will brick your device**.\n      properties:\n        - cores:\n            type: integer\n            default: 1\n            enum:\n              - value: 1\n                title: Single\n              - value: 4\n                title: Quad\n  - network:\n      title: Network Connection\n      properties:\n        - networks:\n            type: array\n            items:\n              title: WiFi Network\n              properties:\n              - ssid:\n                  title: Network SSID\n                  type: string\n              - psk:\n                  title: Network password\n                  type: password\n              warning: |-\n                In order to have usable WiFi connectivity, make sure you have attached\n                a WiFi antenna to your WiFi module.\n  - advanced:\n      title: Advanced\n      collapsed: true\n      properties:\n        - appUpdatePollInterval:\n            title: Application update poll interval\n            help: Check for updates every X minutes\n            type: integer\n            min: 10\n            default: 10\n`\n  },\n];\n\nclass Links extends Component {\n  render(): React.ReactNode {\n    return (\n      <Box>\n        Examples:\n        {examples.map((example, index) => {\n          return (\n            <Permalink\n              mx={2}\n              text={example.yaml}\n              key={index}\n            >\n              {example.name}\n            </Permalink>\n          );\n        })}\n        <Divider />\n        Documentation:\n        <a href={\"https://github.com/balena-io-modules/balena-cdsl/issues/15\"}>\n          What is supported\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"https://github.com/balena-io/balena/blob/9471e79bcdaa75a567e89b7d3ce4a11979d38485/specs/configuration-dsl.md\"\n          }\n        >\n          DSL specification\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"https://github.com/balena-io/balena/blob/614c8f4c3960008f5da7feb63752040287c1f540/specs/configuration-dsl-mapping-extension.md\"\n          }\n        >\n          Mapping extensions\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"https://github.com/balena-io/balena/blob/8e9c7c177e8d730484fbfce5c4281d4c7c205565/specs/json-schema-extensions.md\"\n          }\n        >\n          JSON Schema extensions\n        </a>\n      </Box>\n    );\n  }\n}\n\nexport default Links;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1484;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1615;","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Flex} from \"rendition\";\nimport Playarea from \"./Playarea\";\nimport * as cdsl from \"balena-cdsl\";\nimport Permalink from \"./Permalink\";\n\nfunction noop(_event) {}\n\nclass DSLEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { yaml_text: \"\", hasError: false, error: null, form_ui: null };\n  }\n\n  evaluate(value) {\n    this.setState({ yaml_text: value });\n    try {\n      const ui = cdsl.generate_ui(value);\n      this.onChange(value, ui);\n    } catch (e) {\n      this.onError(e);\n    }\n  }\n\n  onChange(yamlText, ui) {\n    this.setState({ hasError: false, form_ui: ui });\n    if (this.props.onChange) {\n      this.props.onChange(yamlText, ui);\n    }\n  }\n\n  onError(error) {\n    this.setState({ hasError: true, error: error });\n    if (this.props.onError) {\n      this.props.onError(error);\n    }\n  }\n\n  componentDidMount() {\n    this.setDataFromUrl();\n  }\n\n  setDataFromUrl() {\n    const text = Permalink.decode();\n    if (text) {\n      this.evaluate(text);\n    }\n  }\n  render() {\n    console.log(this.state.yaml_text)\n    const b64 = btoa(this.state.yaml_text)\n    console.log(b64)\n    console.log(atob(b64))\n    return (\n      <Box>\n        <Permalink text={this.state.yaml_text} />\n        <Flex>\n          <Playarea\n            placeholder=\"yaml\"\n            onChange={event => this.evaluate(event.target.value)}\n            value={this.state.yaml_text}\n          />\n          {this.state.hasError ? (\n            <Playarea value={this.state.error} onChange={e => noop(e)} />\n          ) : null}\n        </Flex>\n      </Box>\n    );\n  }\n}\n\nexport default DSLEditor;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Flex, Heading } from \"rendition\";\nimport Playarea from \"./Playarea\";\nimport * as temen from \"balena-temen\";\n\nimport { Form } from \"rendition/dist/unstable\";\n\nconst stringify = value => JSON.stringify(value, null, 2);\n\nclass UserUI extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      formData: null\n    };\n  }\n\n  renderFormData(event) {\n    try {\n      const data = event.formData;\n      const evaluated = temen.evaluate(data);\n      this.setState({ formData: stringify(evaluated) });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return (\n      <Box>\n        <Box>\n          <Heading.h4 mb={3}>Rendered form</Heading.h4>\n          <Flex>\n            <Form\n              schema={this.props.jsonSchema}\n              uiSchema={this.props.uiSchema}\n              onFormChange={event => this.renderFormData(event)}\n              hideSubmitButton={true}\n            />\n          </Flex>\n        </Box>\n        {this.state.formData ? (\n          <Box>\n            <Heading.h4>Form data (dry json)</Heading.h4>\n            <Flex>\n              <Playarea\n                placeholder={\"form data\"}\n                value={this.state.formData}\n                onChange={e => this.noop(e)}\n              />\n            </Flex>\n          </Box>\n        ) : null}\n      </Box>\n    );\n  }\n}\n\nexport default UserUI;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Divider, Flex, Heading } from \"rendition\";\nimport Links from \"./Links.tsx\";\nimport Playarea from \"./Playarea.tsx\";\nimport DSLEditor from \"./DSLEditor.jsx\";\nimport UserUI from \"./UserUI.jsx\";\n\nconst stringify = value => JSON.stringify(value, null, 2);\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      json_schema_text: \"\",\n      json_schema: {},\n      ui_object_text: \"\",\n      ui_object: {},\n      formData: \"\",\n      hasError: false\n    };\n  }\n\n  noop() {}\n\n  onDSLChanged(text, ui) {\n    const jsonSchemaText = stringify(ui.json_schema);\n    const uiSchemaText = stringify(ui.ui_object);\n    this.setState({\n      json_schema: ui.json_schema,\n      json_schema_text: jsonSchemaText,\n      ui_object: ui.ui_object,\n      ui_object_text: uiSchemaText,\n      hasError: false\n    });\n  }\n\n  onDSLError(error) {\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    return (\n      <Box>\n        <Links />\n        <Divider />\n        <DSLEditor\n          onChange={(text, ui) => this.onDSLChanged(text, ui)}\n          onError={error => this.onDSLError(error)}\n        />\n        <Divider />\n        {!this.state.hasError ? (\n          <UserUI\n            jsonSchema={this.state.json_schema}\n            uiSchema={this.state.ui_object}\n          />\n        ) : null}\n        <Divider />\n        <Box>\n          {!this.state.hasError ? (\n            <Box>\n              <Heading.h4>JSON and UI schemas</Heading.h4>\n              <Flex>\n                <Playarea\n                  placeholder=\"json schema\"\n                  onChange={e => this.noop(e)}\n                  value={this.state.json_schema_text}\n                />\n                <Playarea\n                  placeholder=\"ui object\"\n                  onChange={e => this.noop(e)}\n                  value={this.state.ui_object_text}\n                />\n              </Flex>\n            </Box>\n          ) : null}\n        </Box>\n        <Divider />\n      </Box>\n    );\n  }\n}\n\nexport default App;\n"],"sourceRoot":""}