{"version":3,"sources":["/./src/DSLEditor.jsx","/./src/UserUI.jsx","/./src/App.jsx","/./src/Playarea.tsx","/./src/Permalink.tsx","/./src/Links.tsx","/./src/ExampleLinks.tsx","/./examples sync \\.(yaml)$","/./examples/000 balena os.yaml","/./examples/001 primitive types.yaml","/./examples/002 abstract data types.yaml","/./examples/003 structures.yaml","/./examples/004 optional types.yaml","/./examples/005 annotations.yaml","/./examples/006 group annotations.yaml","/./examples/007 property annotations.yaml","/./examples/008 array annotations.yaml","/./examples/009 integer validation.yaml","/./examples/010 number validation.yaml","/./examples/011 string validation.yaml","/./examples/012 array validation.yaml","/./examples/013 formula functions.yaml","/./examples/014 formula filters.yaml","/./examples/015 formula math.yaml","/./examples/016 formula string concat.yaml","/./examples/017 formula chained math.yaml","/./examples/018 formula boolean.yaml","/./examples/900 simplest schema.yaml","/./examples/901 network configuration.yaml","/./examples/902 advanced network configuration.yaml","/./node_modules/jellyschema sync"],"names":["DSLEditor","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","state","yaml_text","hasError","error","form_ui","Component","value","setState","ui","jellyschema","onChange","e","onError","yamlText","setDataFromUrl","text","Permalink","decode","evaluate","_this2","react","dist","Permalink_default","a","Playarea_default","placeholder","event","target","JellyForm","async","Promise","all","__webpack_require__","then","t","bind","stringify","JSON","UserUI","UserUI_classCallCheck","UserUI_possibleConstructorReturn","UserUI_getPrototypeOf","formData","errors","schema","jelly","validate","console","log","h4","width","onFormChange","renderFormData","noop","App","App_classCallCheck","App_possibleConstructorReturn","App_getPrototypeOf","json_schema_text","json_schema","ui_object_text","ui_object","jsonSchemaText","jsonSchema","uiSchemaText","uiSchema","Links_default","src_DSLEditor","onDSLChanged","onDSLError","src_UserUI","React","rendition_1","exports","default","createElement","Textarea","__assign","monospace","minRows","autoRows","maxRows","onKeyDown","keyCode","which","preventDefault","noTab","react_1","_super","__extends","encode","encodeURIComponent","btoa","params","URLSearchParams","window","location","search","encoded","get","atob","decodeURIComponent","prototype","render","_a","children","__rest","Link","href","getPermalink","ExampleLinks_1","ky_1","r","exampleFilePaths","keys","map","allExamples","Links","componentDidMount","path","content","name","replace","Box","Divider","examples","Permalink_1","ExampleLinks","DropDownButton","joined","label","Object","sort","key","index","mx","./000 balena os.yaml","./001 primitive types.yaml","./002 abstract data types.yaml","./003 structures.yaml","./004 optional types.yaml","./005 annotations.yaml","./006 group annotations.yaml","./007 property annotations.yaml","./008 array annotations.yaml","./009 integer validation.yaml","./010 number validation.yaml","./011 string validation.yaml","./012 array validation.yaml","./013 formula functions.yaml","./014 formula filters.yaml","./015 formula math.yaml","./016 formula string concat.yaml","./017 formula chained math.yaml","./018 formula boolean.yaml","./900 simplest schema.yaml","./901 network configuration.yaml","./902 advanced network configuration.yaml","webpackContext","req","id","webpackContextResolve","o","Error","code","resolve","module","p","webpackEmptyContext"],"mappings":"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","file":"2.js","sourcesContent":["import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Flex } from \"rendition\";\nimport Playarea from \"./Playarea\";\nimport * as jellyschema from \"jellyschema\";\nimport Permalink from \"./Permalink\";\n\nfunction noop(_event) {\n}\n\nclass DSLEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { yaml_text: \"\", hasError: false, error: null, form_ui: null };\n  }\n\n  evaluate(value) {\n    this.setState({ yaml_text: value });\n    try {\n      const ui = jellyschema.generateJsonAndUiSchema(value);\n      this.onChange(value, ui);\n    } catch (e) {\n      this.onError(e);\n    }\n  }\n\n  onChange(yamlText, ui) {\n    this.setState({ hasError: false, form_ui: ui });\n    if (this.props.onChange) {\n      this.props.onChange(yamlText, ui);\n    }\n  }\n\n  onError(error) {\n    this.setState({ hasError: true, error: error });\n    if (this.props.onError) {\n      this.props.onError(error);\n    }\n  }\n\n  componentDidMount() {\n    this.setDataFromUrl();\n  }\n\n  setDataFromUrl() {\n    const text = Permalink.decode();\n    if (text) {\n      this.evaluate(text);\n    }\n  }\n\n  render() {\n    return (\n      <Box>\n        <Permalink text={this.state.yaml_text}/>\n        <Flex>\n          <Playarea\n            placeholder=\"yaml\"\n            onChange={event => this.evaluate(event.target.value)}\n            value={this.state.yaml_text}\n          />\n          {this.state.hasError ? (\n            <Playarea value={this.state.error} onChange={e => noop(e)}/>\n          ) : null}\n        </Flex>\n      </Box>\n    );\n  }\n}\n\nexport default DSLEditor;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Divider, Flex, Heading } from \"rendition\";\nimport Playarea from \"./Playarea\";\nimport async from \"./Async\";\nimport * as jelly from \"jellyschema\";\n\nconst JellyForm = async(() => {\n  return import(\"rendition/dist/unstable/components/JellyForm\");\n});\n\nconst stringify = value => JSON.stringify(value, null, 2);\n\n\nclass UserUI extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      formData: null,\n      errors: \"\"\n    };\n  }\n\n  renderFormData(event) {\n    try {\n      const schema = new jelly.JellySchema(this.props.yamlText);\n      let errors = \"\";\n      if (!schema.validate(event.formData)) {\n        errors = stringify(schema.errors());\n      }\n      this.setState({ formData: stringify(event.formData), errors: errors });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return (\n      <Box>\n        <Heading.h4>Rendered form</Heading.h4>\n        <Flex>\n          {this.props.yamlText ? (\n            <Flex width={1/2}>\n                <JellyForm\n                  width={1/2}\n                  schema={this.props.yamlText}\n                  onFormChange={event => this.renderFormData(event)}\n                />\n            </Flex>\n          ) : null}\n          {this.state.formData ? (\n                <Playarea\n                  width={1/2}\n                  placeholder={\"form data\"}\n                  value={this.state.formData}\n                  onChange={e => this.noop(e)}\n                />\n          ) : null}\n        </Flex>\n        <Divider/>\n        {this.state.errors ? (\n          <Box>\n            <Heading.h4>Form data validation errors</Heading.h4>\n            <Flex>\n              <Playarea placeholder={\"data validation errors\"} value={this.state.errors} onChange={e => noop(e)}/>\n            </Flex>\n          </Box>\n        ) : null}\n      </Box>\n    );\n  }\n\n  noop() {\n  }\n}\n\nexport default UserUI;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Divider, Flex, Heading } from \"rendition\";\nimport Links from \"./Links.tsx\";\nimport Playarea from \"./Playarea.tsx\";\nimport DSLEditor from \"./DSLEditor.jsx\";\nimport UserUI from \"./UserUI.jsx\";\n\nconst stringify = value => JSON.stringify(value, null, 2);\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      yamlText: \"\",\n      json_schema_text: \"\",\n      json_schema: {},\n      ui_object_text: \"\",\n      ui_object: {},\n      formData: \"\",\n      hasError: false\n    };\n  }\n\n  noop() {\n  }\n\n  onDSLChanged(text, ui) {\n    const jsonSchemaText = stringify(ui.jsonSchema);\n    const uiSchemaText = stringify(ui.uiSchema);\n    this.setState({\n      yamlText: text,\n      json_schema: ui.jsonSchema,\n      json_schema_text: jsonSchemaText,\n      ui_object: ui.uiSchema,\n      ui_object_text: uiSchemaText,\n      hasError: false\n    });\n  }\n\n  onDSLError(error) {\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    return (\n      <Box>\n        <Links/>\n        <Divider/>\n        <DSLEditor\n          onChange={(text, ui) => this.onDSLChanged(text, ui)}\n          onError={error => this.onDSLError(error)}\n        />\n        <Divider/>\n        {!this.state.hasError ? (\n          <UserUI\n            yamlText={this.state.yamlText}\n          />\n        ) : null}\n        <Divider/>\n        <Box>\n          {!this.state.hasError ? (\n            <Box>\n              <Heading.h4>JSON and UI schemas</Heading.h4>\n              <Flex>\n                <Playarea\n                  placeholder=\"json schema\"\n                  onChange={e => this.noop(e)}\n                  value={this.state.json_schema_text}\n                />\n                <Playarea\n                  placeholder=\"ui object\"\n                  onChange={e => this.noop(e)}\n                  value={this.state.ui_object_text}\n                />\n              </Flex>\n            </Box>\n          ) : null}\n        </Box>\n        <Divider/>\n      </Box>\n    );\n  }\n}\n\nexport default App;\n","import * as React from \"react\";\nimport { Textarea, TextareaProps } from \"rendition\";\n\nfunction noTab(event: React.KeyboardEvent<HTMLElement>) {\n  const keyCode = event.keyCode || event.which;\n\n  if (keyCode == 9) {\n    event.preventDefault();\n  }\n}\n\nconst Playarea = (props: TextareaProps) => (\n  <Textarea\n    monospace={true}\n    minRows={12}\n    autoRows={true}\n    maxRows={16}\n    onKeyDown={event => noTab(event)}\n    {...props}\n  />\n);\n\nexport default Playarea;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { DefaultProps, Link } from \"rendition\";\n\nconst propertyName = \"yaml\";\n\ninterface PermalinkProps extends DefaultProps {\n  text?: string;\n}\n\nclass Permalink extends Component<PermalinkProps, any> {\n  constructor(props: PermalinkProps) {\n    super(props);\n  }\n\n  static encode(text: string): string {\n    return encodeURIComponent(btoa(text));\n  }\n\n  static decode(): string {\n    try {\n      const params = new URLSearchParams(window.location.search);\n      const encoded = params.get(propertyName);\n      if (params && encoded) {\n        return atob(decodeURIComponent(encoded));\n      }\n      return null;\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render(): React.ReactNode {\n    const {\n      children,\n      text,\n      ...props\n    } = this.props;\n    return (\n      <Link {...props} href={this.getPermalink()}>{children || \"permalink\"}</Link>\n    );\n  }\n\n  getPermalink() {\n    try {\n      return \"?\" + propertyName + \"=\" + Permalink.encode(this.props.text);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n}\n\nexport default Permalink;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Divider } from \"rendition\";\nimport ExampleLinks from \"./ExampleLinks\";\n\nimport ky from \"ky\";\n\nfunction importAll(r: any) {\n  return r.keys().map(r);\n}\n\nconst exampleFilePaths = importAll(require.context(\"../examples\", true, /\\.(yaml)$/));\n\ninterface IHash {\n  [key: string]: string\n}\n\nlet allExamples: IHash = {};\n\ninterface LinksState {\n  allExamples: IHash\n}\n\nclass Links extends Component<any, LinksState> {\n\n  constructor(props: any) {\n    super(props);\n    this.state = { allExamples: {} };\n  }\n\n  componentDidMount(): void {\n    exampleFilePaths.map((path: string) => {\n      ky.get(path).text().then((content) => {\n        const name = path.replace(\"examples/\", \"\");\n        allExamples[name] = content;\n      }).then(() => {\n        this.setState({ allExamples: allExamples });\n      });\n    });\n  }\n\n  render(): React.ReactNode {\n    return (\n      <Box>\n        Documentation:\n        <a href={\"https://github.com/balena-io-modules/balena-cdsl/issues/15\"}>\n          What is supported\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"https://github.com/balena-io/balena/blob/9471e79bcdaa75a567e89b7d3ce4a11979d38485/specs/configuration-dsl.md\"\n          }\n        >\n          DSL specification\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"https://github.com/balena-io/balena/blob/614c8f4c3960008f5da7feb63752040287c1f540/specs/configuration-dsl-mapping-extension.md\"\n          }\n        >\n          Mapping extensions\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"https://github.com/balena-io/balena/blob/8e9c7c177e8d730484fbfce5c4281d4c7c205565/specs/json-schema-extensions.md\"\n          }\n        >\n          JSON Schema extensions\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"https://docs.google.com/document/d/1GzzTOEkxIg8mis7c6WU41AU7AIYLYhImgJ_5383Kknc/edit\"\n          }\n        >\n          Known UI issues\n        </a>\n        <Divider/>\n        <ExampleLinks examples={this.state.allExamples}/>\n      </Box>\n    );\n  }\n}\n\nexport default Links;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { DropDownButton } from \"rendition\";\nimport Permalink from \"./Permalink\";\n\n\ninterface IHash {\n  [key: string]: string\n}\n\ninterface ExampleLinksProps {\n  examples: IHash\n}\n\nclass ExampleLinks extends Component<ExampleLinksProps, any> {\n\n  constructor(props: ExampleLinksProps) {\n    super(props);\n  }\n\n  render(): React.ReactNode {\n    const examples = this.props.examples;\n    return (\n      <DropDownButton joined={true} label={<div>Examples</div>}>\n        {\n          Object.keys(examples).sort().map(function(key, index) {\n            return (\n              <Permalink\n                mx={2}\n                text={examples[key]}\n                key={index}\n              >\n                {key}\n              </Permalink>\n            );\n          })\n        }\n      </DropDownButton>\n    );\n  }\n}\n\nexport default ExampleLinks;\n","var map = {\n\t\"./000 balena os.yaml\": 880,\n\t\"./001 primitive types.yaml\": 881,\n\t\"./002 abstract data types.yaml\": 882,\n\t\"./003 structures.yaml\": 883,\n\t\"./004 optional types.yaml\": 884,\n\t\"./005 annotations.yaml\": 885,\n\t\"./006 group annotations.yaml\": 886,\n\t\"./007 property annotations.yaml\": 887,\n\t\"./008 array annotations.yaml\": 888,\n\t\"./009 integer validation.yaml\": 889,\n\t\"./010 number validation.yaml\": 890,\n\t\"./011 string validation.yaml\": 891,\n\t\"./012 array validation.yaml\": 892,\n\t\"./013 formula functions.yaml\": 893,\n\t\"./014 formula filters.yaml\": 894,\n\t\"./015 formula math.yaml\": 895,\n\t\"./016 formula string concat.yaml\": 896,\n\t\"./017 formula chained math.yaml\": 897,\n\t\"./018 formula boolean.yaml\": 898,\n\t\"./900 simplest schema.yaml\": 899,\n\t\"./901 network configuration.yaml\": 900,\n\t\"./902 advanced network configuration.yaml\": 901\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 879;","module.exports = __webpack_public_path__ + \"examples/000 balena os.yaml\";","module.exports = __webpack_public_path__ + \"examples/001 primitive types.yaml\";","module.exports = __webpack_public_path__ + \"examples/002 abstract data types.yaml\";","module.exports = __webpack_public_path__ + \"examples/003 structures.yaml\";","module.exports = __webpack_public_path__ + \"examples/004 optional types.yaml\";","module.exports = __webpack_public_path__ + \"examples/005 annotations.yaml\";","module.exports = __webpack_public_path__ + \"examples/006 group annotations.yaml\";","module.exports = __webpack_public_path__ + \"examples/007 property annotations.yaml\";","module.exports = __webpack_public_path__ + \"examples/008 array annotations.yaml\";","module.exports = __webpack_public_path__ + \"examples/009 integer validation.yaml\";","module.exports = __webpack_public_path__ + \"examples/010 number validation.yaml\";","module.exports = __webpack_public_path__ + \"examples/011 string validation.yaml\";","module.exports = __webpack_public_path__ + \"examples/012 array validation.yaml\";","module.exports = __webpack_public_path__ + \"examples/013 formula functions.yaml\";","module.exports = __webpack_public_path__ + \"examples/014 formula filters.yaml\";","module.exports = __webpack_public_path__ + \"examples/015 formula math.yaml\";","module.exports = __webpack_public_path__ + \"examples/016 formula string concat.yaml\";","module.exports = __webpack_public_path__ + \"examples/017 formula chained math.yaml\";","module.exports = __webpack_public_path__ + \"examples/018 formula boolean.yaml\";","module.exports = __webpack_public_path__ + \"examples/900 simplest schema.yaml\";","module.exports = __webpack_public_path__ + \"examples/901 network configuration.yaml\";","module.exports = __webpack_public_path__ + \"examples/902 advanced network configuration.yaml\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 903;"],"sourceRoot":""}