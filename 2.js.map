{"version":3,"sources":["/./node_modules/balena-temen sync","/./src/DSLEditor.jsx","/./src/UserUI.jsx","/./src/App.jsx","/./src/Playarea.tsx","/./src/Permalink.tsx","/./src/Links.tsx","/./src/ExampleLinks.tsx","/./examples sync \\.(yaml)$","/./examples/001 primitive types.yaml","/./examples/002 abstract data types.yaml","/./examples/003 structures.yaml","/./examples/004 optional types.yaml","/./examples/005 compound types.yaml","/./examples/006 annotations.yaml","/./examples/007 group annotations.yaml","/./examples/008 property annotations.yaml","/./examples/009 array annotations.yaml","/./examples/010 integer validation.yaml","/./examples/011 number validation.yaml","/./examples/012 string validation.yaml","/./examples/013 array validation.yaml","/./examples/014 formula functions.yaml","/./examples/015 formula filters.yaml","/./examples/016 formula math.yaml","/./examples/017 formula string concat.yaml","/./examples/018 formula chained math.yaml","/./examples/019 formula boolean.yaml","/./examples/900 simplest schema.yaml","/./examples/901 network configuration.yaml","/./examples/902 advanced network configuration.yaml","/./examples/903 formula.yaml","/./node_modules/balena-cdsl sync"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","DSLEditor","props","_this","_classCallCheck","this","_possibleConstructorReturn","_getPrototypeOf","call","state","yaml_text","hasError","error","form_ui","Component","value","setState","ui","cdsl","onChange","onError","yamlText","setDataFromUrl","text","Permalink","decode","evaluate","_this2","btoa","react","dist","Permalink_default","a","Playarea_default","placeholder","event","target","UserUI","UserUI_classCallCheck","UserUI_possibleConstructorReturn","UserUI_getPrototypeOf","formData","data","evaluated","temen","JSON","stringify","console","log","h4","mb","unstable","schema","jsonSchema","uiSchema","onFormChange","renderFormData","hideSubmitButton","noop","App","App_classCallCheck","App_possibleConstructorReturn","App_getPrototypeOf","json_schema_text","json_schema","ui_object_text","ui_object","jsonSchemaText","uiSchemaText","Links_default","src_DSLEditor","onDSLChanged","onDSLError","src_UserUI","React","__webpack_require__","rendition_1","default","createElement","Textarea","__assign","monospace","minRows","autoRows","maxRows","onKeyDown","keyCode","which","preventDefault","noTab","react_1","_super","__extends","encode","encodeURIComponent","params","URLSearchParams","window","location","search","encoded","get","atob","decodeURIComponent","prototype","render","_a","children","__rest","Link","href","getPermalink","ExampleLinks_1","ky_1","r","exampleFilePaths","map","allExamples","Links","componentDidMount","path","then","content","name","replace","Box","Divider","examples","Permalink_1","ExampleLinks","DropDownButton","joined","label","Object","sort","key","index","mx","./001 primitive types.yaml","./002 abstract data types.yaml","./003 structures.yaml","./004 optional types.yaml","./005 compound types.yaml","./006 annotations.yaml","./007 group annotations.yaml","./008 property annotations.yaml","./009 array annotations.yaml","./010 integer validation.yaml","./011 number validation.yaml","./012 string validation.yaml","./013 array validation.yaml","./014 formula functions.yaml","./015 formula filters.yaml","./016 formula math.yaml","./017 formula string concat.yaml","./018 formula chained math.yaml","./019 formula boolean.yaml","./900 simplest schema.yaml","./901 network configuration.yaml","./902 advanced network configuration.yaml","./903 formula.yaml","webpackContext","webpackContextResolve","p"],"mappings":"4EAAA,SAAAA,EAAAC,GACA,IAAAC,EAAA,IAAAC,MAAA,uBAAAF,EAAA,KAEA,MADAC,EAAAE,KAAA,mBACAF,EAEAF,EAAAK,KAAA,WAAuC,UACvCL,EAAAM,QAAAN,EACAO,EAAAC,QAAAR,EACAA,EAAAS,GAAA,46BC+DeC,cA5Db,SAAAA,EAAYC,GAAO,IAAAC,EAAA,mGAAAC,CAAAC,KAAAJ,IACjBE,EAAAG,EAAAD,KAAAE,EAAAN,GAAAO,KAAAH,KAAMH,KACDO,MAAQ,CAAEC,UAAW,GAAIC,UAAU,EAAOC,MAAO,KAAMC,QAAS,MAFpDV,wPADGW,uDAMbC,GACPV,KAAKW,SAAS,CAAEN,UAAWK,IAC3B,IACE,IAAME,EAAKC,IAAiBH,GAC5BV,KAAKc,SAASJ,EAAOE,GACrB,MAAOxB,GACPY,KAAKe,QAAQ3B,qCAIR4B,EAAUJ,GACjBZ,KAAKW,SAAS,CAAEL,UAAU,EAAOE,QAASI,IACtCZ,KAAKH,MAAMiB,UACbd,KAAKH,MAAMiB,SAASE,EAAUJ,mCAI1BL,GACNP,KAAKW,SAAS,CAAEL,UAAU,EAAMC,MAAOA,IACnCP,KAAKH,MAAMkB,SACbf,KAAKH,MAAMkB,QAAQR,+CAKrBP,KAAKiB,0DAIL,IAAMC,EAAOC,IAAUC,SACnBF,GACFlB,KAAKqB,SAASH,oCAIT,IAAAI,EAAAtB,KACKuB,KAAKvB,KAAKI,MAAMC,WAC5B,OACEmB,EAAA,cAACC,EAAA,IAAD,KACED,EAAA,cAACE,EAAAC,EAAD,CAAWT,KAAMlB,KAAKI,MAAMC,YAC5BmB,EAAA,cAACC,EAAA,KAAD,KACED,EAAA,cAACI,EAAAD,EAAD,CACEE,YAAY,OACZf,SAAU,SAAAgB,GAAK,OAAIR,EAAKD,SAASS,EAAMC,OAAOrB,QAC9CA,MAAOV,KAAKI,MAAMC,YAEnBL,KAAKI,MAAME,SACVkB,EAAA,cAACI,EAAAD,EAAD,CAAUjB,MAAOV,KAAKI,MAAMG,MAAOO,SAAU,SAAA1B,OAC3C,q2BCxDd,IAoDe4C,cAjDb,SAAAA,EAAYnC,GAAO,IAAAC,EAAA,mGAAAmC,CAAAjC,KAAAgC,IACjBlC,EAAAoC,EAAAlC,KAAAmC,EAAAH,GAAA7B,KAAAH,KAAMH,KAEDO,MAAQ,CACXgC,SAAU,MAJKtC,wPADAW,6DASJqB,GACb,IACE,IAAMO,EAAOP,EAAMM,SACbE,EAAYC,IAAeF,GACjCrC,KAAKW,SAAS,CAAEyB,UAfJ1B,EAewB4B,EAffE,KAAKC,UAAU/B,EAAO,KAAM,MAgBjD,MAAOtB,GACPsD,QAAQC,IAAIvD,GAjBA,IAAAsB,mCAqBP,IAAAY,EAAAtB,KACP,OACEwB,EAAA,cAACC,EAAA,IAAD,KACED,EAAA,cAACC,EAAA,IAAD,KACED,EAAA,cAACC,EAAA,QAAQmB,GAAT,CAAYC,GAAI,GAAhB,iBACArB,EAAA,cAACC,EAAA,KAAD,KACED,EAAA,cAACsB,EAAA,KAAD,CACEC,OAAQ/C,KAAKH,MAAMmD,WACnBC,SAAUjD,KAAKH,MAAMoD,SACrBC,aAAc,SAAApB,GAAK,OAAIR,EAAK6B,eAAerB,IAC3CsB,kBAAkB,MAIvBpD,KAAKI,MAAMgC,SACVZ,EAAA,cAACC,EAAA,IAAD,KACED,EAAA,cAACC,EAAA,QAAQmB,GAAT,6BACApB,EAAA,cAACC,EAAA,KAAD,KACED,EAAA,cAACI,EAAAD,EAAD,CACEE,YAAa,YACbnB,MAAOV,KAAKI,MAAMgC,SAClBtB,SAAU,SAAA1B,GAAC,OAAIkC,EAAK+B,KAAKjE,QAI7B,k1BC9CZ,IAAMqD,EAAY,SAAA/B,GAAK,OAAI8B,KAAKC,UAAU/B,EAAO,KAAM,IAEjD4C,cACJ,SAAAA,IAAc,IAAAxD,EAAA,mGAAAyD,CAAAvD,KAAAsD,IACZxD,EAAA0D,EAAAxD,KAAAyD,EAAAH,GAAAnD,KAAAH,QAEKI,MAAQ,CACXsD,iBAAkB,GAClBC,YAAa,GACbC,eAAgB,GAChBC,UAAW,GACXzB,SAAU,GACV9B,UAAU,GATAR,wPADEW,2FAiBHS,EAAMN,GACjB,IAAMkD,EAAiBrB,EAAU7B,EAAG+C,aAC9BI,EAAetB,EAAU7B,EAAGiD,WAClC7D,KAAKW,SAAS,CACZgD,YAAa/C,EAAG+C,YAChBD,iBAAkBI,EAClBD,UAAWjD,EAAGiD,UACdD,eAAgBG,EAChBzD,UAAU,uCAIHC,GACTP,KAAKW,SAAS,CAAEL,UAAU,qCAGnB,IAAAgB,EAAAtB,KACP,OACEwB,EAAA,cAACC,EAAA,IAAD,KACED,EAAA,cAACwC,EAAArC,EAAD,MACAH,EAAA,cAACC,EAAA,QAAD,MACAD,EAAA,cAACyC,EAAD,CACEnD,SAAU,SAACI,EAAMN,GAAP,OAAcU,EAAK4C,aAAahD,EAAMN,IAChDG,QAAS,SAAAR,GAAK,OAAIe,EAAK6C,WAAW5D,MAEpCiB,EAAA,cAACC,EAAA,QAAD,MACEzB,KAAKI,MAAME,SAKT,KAJFkB,EAAA,cAAC4C,EAAD,CACEpB,WAAYhD,KAAKI,MAAMuD,YACvBV,SAAUjD,KAAKI,MAAMyD,YAGzBrC,EAAA,cAACC,EAAA,QAAD,MACAD,EAAA,cAACC,EAAA,IAAD,KACIzB,KAAKI,MAAME,SAgBT,KAfFkB,EAAA,cAACC,EAAA,IAAD,KACED,EAAA,cAACC,EAAA,QAAQmB,GAAT,4BACApB,EAAA,cAACC,EAAA,KAAD,KACED,EAAA,cAACI,EAAAD,EAAD,CACEE,YAAY,cACZf,SAAU,SAAA1B,GAAC,OAAIkC,EAAK+B,KAAKjE,IACzBsB,MAAOV,KAAKI,MAAMsD,mBAEpBlC,EAAA,cAACI,EAAAD,EAAD,CACEE,YAAY,YACZf,SAAU,SAAA1B,GAAC,OAAIkC,EAAK+B,KAAKjE,IACzBsB,MAAOV,KAAKI,MAAMwD,oBAM5BpC,EAAA,cAACC,EAAA,QAAD,4CAMO6B,uUCrFf,IAAAe,EAAAC,EAAA,GACAC,EAAAD,EAAA,IAqBA5E,EAAA8E,QAXiB,SAAC3E,GAAyB,OACzCwE,EAAAI,cAACF,EAAAG,SAAQC,EAAA,CACPC,WAAW,EACXC,QAAS,GACTC,UAAU,EACVC,QAAS,GACTC,UAAW,SAAAlD,GAAS,OAdxB,SAAeA,GAGE,IAFCA,EAAMmD,SAAWnD,EAAMoD,QAGrCpD,EAAMqD,iBAUcC,CAAMtD,KACtBjC,u7BClBR,IAAAwE,EAAAC,EAAA,GACAe,EAAAf,EAAA,GACAC,EAAAD,EAAA,IAQAnD,EAAA,SAAAmE,GACE,SAAAnE,EAAYtB,UACVyF,EAAAnF,KAAAH,KAAMH,IAAMG,KAsChB,OAxCwBuF,EAAApE,EAAAmE,GAKfnE,EAAAqE,OAAP,SAActE,GACZ,OAAOuE,mBAAmBlE,KAAKL,KAG1BC,EAAAC,OAAP,WACE,IACE,IAAMsE,EAAS,IAAIC,gBAAgBC,OAAOC,SAASC,QAC7CC,EAAUL,EAAOM,IAlBR,QAmBf,OAAIN,GAAUK,EACLE,KAAKC,mBAAmBH,IAE1B,KACP,MAAO3G,GACPsD,QAAQC,IAAIvD,KAIhB+B,EAAAgF,UAAAC,OAAA,WACE,IAAMC,EAAArG,KAAAH,MACJyG,EAAAD,EAAAC,SAEAzG,GADAwG,EAAAnF,KACAqF,EAAAF,EAAA,sBAEF,OACEhC,EAAAI,cAACF,EAAAiC,KAAI7B,EAAA,GAAK9E,EAAK,CAAE4G,KAAMzG,KAAK0G,iBAAiBJ,GAAY,cAI7DnF,EAAAgF,UAAAO,aAAA,WACE,IACE,MAAO,SAA2BvF,EAAUqE,OAAOxF,KAAKH,MAAMqB,MAC9D,MAAO9B,GACPsD,QAAQC,IAAIvD,KAGlB+B,EAxCA,CAAwBkE,EAAA5E,WA0CxBf,EAAA8E,QAAerD,qaCpDf,IAAAkD,EAAAC,EAAA,GACAe,EAAAf,EAAA,GACAC,EAAAD,EAAA,IACAqC,EAAArC,EAAA,KAEAsC,EAAAtC,EAAA,KAMA,IAJmBuC,EAIbC,GAJaD,EAIgBvC,EAAA,MAHxB/E,OAAOwH,IAAIF,GASlBG,EAAqB,GAMzBC,EAAA,SAAA3B,GAEE,SAAA2B,EAAYpH,GAAZ,IAAAC,EACEwF,EAAAnF,KAAAH,KAAMH,IAAMG,YACZF,EAAKM,MAAQ,CAAE4G,YAAa,MAkDhC,OAtDoBzB,EAAA0B,EAAA3B,GAOlB2B,EAAAd,UAAAe,kBAAA,eAAApH,EAAAE,KACE8G,EAAiBC,IAAI,SAACI,GACpBP,EAAApC,QAAGwB,IAAImB,GAAMjG,OAAOkG,KAAK,SAACC,GACxB,IAAMC,EAAOH,EAAKI,QAAQ,YAAa,IACvCP,EAAYM,GAAQD,IACnBD,KAAK,WACNtH,EAAKa,SAAS,CAAEqG,YAAaA,SAKnCC,EAAAd,UAAAC,OAAA,WACE,OACE/B,EAAAI,cAACF,EAAAiD,IAAG,sBAEFnD,EAAAI,cAAA,KAAGgC,KAAM,8DAA4D,2BAIrEpC,EAAAI,cAAA,KACEgC,KACE,gHAA8G,2BAMlHpC,EAAAI,cAAA,KACEgC,KACE,kIAAgI,4BAMpIpC,EAAAI,cAAA,KACEgC,KACE,qHAAmH,0BAKvHpC,EAAAI,cAACF,EAAAkD,QAAO,MACRpD,EAAAI,cAACkC,EAAAnC,QAAY,CAACkD,SAAU1H,KAAKI,MAAM4G,gBAI3CC,EAtDA,CAAoB5B,EAAA5E,WAwDpBf,EAAA8E,QAAeyC,qaC/Ef,IAAA5C,EAAAC,EAAA,GACAe,EAAAf,EAAA,GACAC,EAAAD,EAAA,IACAqD,EAAArD,EAAA,KAWAsD,EAAA,SAAAtC,GAEE,SAAAsC,EAAY/H,UACVyF,EAAAnF,KAAAH,KAAMH,IAAMG,KAuBhB,OA1B2BuF,EAAAqC,EAAAtC,GAMzBsC,EAAAzB,UAAAC,OAAA,WACE,IAAMsB,EAAW1H,KAAKH,MAAM6H,SAC5B,OACErD,EAAAI,cAACF,EAAAsD,eAAc,CAACC,QAAQ,EAAMC,MAAO1D,EAAAI,cAAA,wBAEjCuD,OAAOzI,KAAKmI,GAAUO,OAAOlB,IAAI,SAASmB,EAAKC,GAC7C,OACE9D,EAAAI,cAACkD,EAAAnD,QAAS,CACR4D,GAAI,EACJlH,KAAMwG,EAASQ,GACfA,IAAKC,GAEJD,OAQjBN,EA1BA,CAA2BvC,EAAA5E,WA4B3Bf,EAAA8E,QAAeoD,uBC1Cf,IAAAb,EAAA,CACAsB,6BAAA,IACAC,iCAAA,IACAC,wBAAA,IACAC,4BAAA,IACAC,4BAAA,IACAC,yBAAA,IACAC,+BAAA,IACAC,kCAAA,IACAC,+BAAA,IACAC,gCAAA,IACAC,+BAAA,IACAC,+BAAA,IACAC,8BAAA,IACAC,+BAAA,IACAC,6BAAA,IACAC,0BAAA,IACAC,mCAAA,IACAC,kCAAA,IACAC,6BAAA,IACAC,6BAAA,IACAC,mCAAA,IACAC,4CAAA,IACAC,qBAAA,KAIA,SAAAC,EAAAzK,GACA,IAAAQ,EAAAkK,EAAA1K,GACA,OAAAmF,EAAA3E,GAEA,SAAAkK,EAAA1K,GACA,IAAAQ,EAAAoH,EAAA5H,GACA,KAAAQ,EAAA,IACA,IAAAP,EAAA,IAAAC,MAAA,uBAAAF,EAAA,KAEA,MADAC,EAAAE,KAAA,mBACAF,EAEA,OAAAO,EAEAiK,EAAArK,KAAA,WACA,OAAAyI,OAAAzI,KAAAwH,IAEA6C,EAAApK,QAAAqK,EACApK,EAAAC,QAAAkK,EACAA,EAAAjK,GAAA,yBC7CAF,EAAAC,QAAiB4E,EAAAwF,EAAuB,yDCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,6DCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,oDCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,wDCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,wDCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,qDCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,2DCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,8DCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,2DCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,4DCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,2DCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,2DCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,0DCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,2DCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,yDCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,sDCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,+DCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,8DCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,yDCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,yDCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,+DCAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,wECAxCrK,EAAAC,QAAiB4E,EAAAwF,EAAuB,+CCAxC,SAAA5K,EAAAC,GACA,IAAAC,EAAA,IAAAC,MAAA,uBAAAF,EAAA,KAEA,MADAC,EAAAE,KAAA,mBACAF,EAEAF,EAAAK,KAAA,WAAuC,UACvCL,EAAAM,QAAAN,EACAO,EAAAC,QAAAR,EACAA,EAAAS,GAAA","file":"2.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1033;","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Flex } from \"rendition\";\nimport Playarea from \"./Playarea\";\nimport * as cdsl from \"balena-cdsl\";\nimport Permalink from \"./Permalink\";\n\nfunction noop(_event) {\n}\n\nclass DSLEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { yaml_text: \"\", hasError: false, error: null, form_ui: null };\n  }\n\n  evaluate(value) {\n    this.setState({ yaml_text: value });\n    try {\n      const ui = cdsl.generate_ui(value);\n      this.onChange(value, ui);\n    } catch (e) {\n      this.onError(e);\n    }\n  }\n\n  onChange(yamlText, ui) {\n    this.setState({ hasError: false, form_ui: ui });\n    if (this.props.onChange) {\n      this.props.onChange(yamlText, ui);\n    }\n  }\n\n  onError(error) {\n    this.setState({ hasError: true, error: error });\n    if (this.props.onError) {\n      this.props.onError(error);\n    }\n  }\n\n  componentDidMount() {\n    this.setDataFromUrl();\n  }\n\n  setDataFromUrl() {\n    const text = Permalink.decode();\n    if (text) {\n      this.evaluate(text);\n    }\n  }\n\n  render() {\n    const b64 = btoa(this.state.yaml_text);\n    return (\n      <Box>\n        <Permalink text={this.state.yaml_text}/>\n        <Flex>\n          <Playarea\n            placeholder=\"yaml\"\n            onChange={event => this.evaluate(event.target.value)}\n            value={this.state.yaml_text}\n          />\n          {this.state.hasError ? (\n            <Playarea value={this.state.error} onChange={e => noop(e)}/>\n          ) : null}\n        </Flex>\n      </Box>\n    );\n  }\n}\n\nexport default DSLEditor;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Flex, Heading } from \"rendition\";\nimport Playarea from \"./Playarea\";\nimport * as temen from \"balena-temen\";\n\nimport { Form } from \"rendition/dist/unstable\";\n\nconst stringify = value => JSON.stringify(value, null, 2);\n\nclass UserUI extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      formData: null\n    };\n  }\n\n  renderFormData(event) {\n    try {\n      const data = event.formData;\n      const evaluated = temen.evaluate(data);\n      this.setState({ formData: stringify(evaluated) });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return (\n      <Box>\n        <Box>\n          <Heading.h4 mb={3}>Rendered form</Heading.h4>\n          <Flex>\n            <Form\n              schema={this.props.jsonSchema}\n              uiSchema={this.props.uiSchema}\n              onFormChange={event => this.renderFormData(event)}\n              hideSubmitButton={true}\n            />\n          </Flex>\n        </Box>\n        {this.state.formData ? (\n          <Box>\n            <Heading.h4>Form data (dry json)</Heading.h4>\n            <Flex>\n              <Playarea\n                placeholder={\"form data\"}\n                value={this.state.formData}\n                onChange={e => this.noop(e)}\n              />\n            </Flex>\n          </Box>\n        ) : null}\n      </Box>\n    );\n  }\n}\n\nexport default UserUI;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Divider, Flex, Heading } from \"rendition\";\nimport Links from \"./Links.tsx\";\nimport Playarea from \"./Playarea.tsx\";\nimport DSLEditor from \"./DSLEditor.jsx\";\nimport UserUI from \"./UserUI.jsx\";\n\nconst stringify = value => JSON.stringify(value, null, 2);\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      json_schema_text: \"\",\n      json_schema: {},\n      ui_object_text: \"\",\n      ui_object: {},\n      formData: \"\",\n      hasError: false\n    };\n  }\n\n  noop() {\n  }\n\n  onDSLChanged(text, ui) {\n    const jsonSchemaText = stringify(ui.json_schema);\n    const uiSchemaText = stringify(ui.ui_object);\n    this.setState({\n      json_schema: ui.json_schema,\n      json_schema_text: jsonSchemaText,\n      ui_object: ui.ui_object,\n      ui_object_text: uiSchemaText,\n      hasError: false\n    });\n  }\n\n  onDSLError(error) {\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    return (\n      <Box>\n        <Links/>\n        <Divider/>\n        <DSLEditor\n          onChange={(text, ui) => this.onDSLChanged(text, ui)}\n          onError={error => this.onDSLError(error)}\n        />\n        <Divider/>\n        {!this.state.hasError ? (\n          <UserUI\n            jsonSchema={this.state.json_schema}\n            uiSchema={this.state.ui_object}\n          />\n        ) : null}\n        <Divider/>\n        <Box>\n          {!this.state.hasError ? (\n            <Box>\n              <Heading.h4>JSON and UI schemas</Heading.h4>\n              <Flex>\n                <Playarea\n                  placeholder=\"json schema\"\n                  onChange={e => this.noop(e)}\n                  value={this.state.json_schema_text}\n                />\n                <Playarea\n                  placeholder=\"ui object\"\n                  onChange={e => this.noop(e)}\n                  value={this.state.ui_object_text}\n                />\n              </Flex>\n            </Box>\n          ) : null}\n        </Box>\n        <Divider/>\n      </Box>\n    );\n  }\n}\n\nexport default App;\n","import * as React from \"react\";\nimport { Textarea, TextareaProps } from \"rendition\";\n\nfunction noTab(event: React.KeyboardEvent<HTMLElement>) {\n  const keyCode = event.keyCode || event.which;\n\n  if (keyCode == 9) {\n    event.preventDefault();\n  }\n}\n\nconst Playarea = (props: TextareaProps) => (\n  <Textarea\n    monospace={true}\n    minRows={12}\n    autoRows={true}\n    maxRows={16}\n    onKeyDown={event => noTab(event)}\n    {...props}\n  />\n);\n\nexport default Playarea;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { DefaultProps, Link } from \"rendition\";\n\nconst propertyName = \"yaml\";\n\ninterface PermalinkProps extends DefaultProps {\n  text?: string;\n}\n\nclass Permalink extends Component<PermalinkProps, any> {\n  constructor(props: PermalinkProps) {\n    super(props);\n  }\n\n  static encode(text: string): string {\n    return encodeURIComponent(btoa(text));\n  }\n\n  static decode(): string {\n    try {\n      const params = new URLSearchParams(window.location.search);\n      const encoded = params.get(propertyName);\n      if (params && encoded) {\n        return atob(decodeURIComponent(encoded));\n      }\n      return null;\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render(): React.ReactNode {\n    const {\n      children,\n      text,\n      ...props\n    } = this.props;\n    return (\n      <Link {...props} href={this.getPermalink()}>{children || \"permalink\"}</Link>\n    );\n  }\n\n  getPermalink() {\n    try {\n      return \"?\" + propertyName + \"=\" + Permalink.encode(this.props.text);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n}\n\nexport default Permalink;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Divider } from \"rendition\";\nimport ExampleLinks from \"./ExampleLinks\";\n\nimport ky from \"ky\";\n\nfunction importAll(r: any) {\n  return r.keys().map(r);\n}\n\nconst exampleFilePaths = importAll(require.context(\"../examples\", true, /\\.(yaml)$/));\n\ninterface IHash {\n  [key: string]: string\n}\n\nlet allExamples: IHash = {};\n\ninterface LinksState {\n  allExamples: IHash\n}\n\nclass Links extends Component<any, LinksState> {\n\n  constructor(props: any) {\n    super(props);\n    this.state = { allExamples: {} };\n  }\n\n  componentDidMount(): void {\n    exampleFilePaths.map((path: string) => {\n      ky.get(path).text().then((content) => {\n        const name = path.replace(\"examples/\", \"\");\n        allExamples[name] = content;\n      }).then(() => {\n        this.setState({ allExamples: allExamples });\n      });\n    });\n  }\n\n  render(): React.ReactNode {\n    return (\n      <Box>\n        Documentation:\n        <a href={\"https://github.com/balena-io-modules/balena-cdsl/issues/15\"}>\n          What is supported\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"https://github.com/balena-io/balena/blob/9471e79bcdaa75a567e89b7d3ce4a11979d38485/specs/configuration-dsl.md\"\n          }\n        >\n          DSL specification\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"https://github.com/balena-io/balena/blob/614c8f4c3960008f5da7feb63752040287c1f540/specs/configuration-dsl-mapping-extension.md\"\n          }\n        >\n          Mapping extensions\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"https://github.com/balena-io/balena/blob/8e9c7c177e8d730484fbfce5c4281d4c7c205565/specs/json-schema-extensions.md\"\n          }\n        >\n          JSON Schema extensions\n        </a>\n        <Divider/>\n        <ExampleLinks examples={this.state.allExamples}/>\n      </Box>\n    );\n  }\n}\n\nexport default Links;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { DropDownButton } from \"rendition\";\nimport Permalink from \"./Permalink\";\n\n\ninterface IHash {\n  [key: string]: string\n}\n\ninterface ExampleLinksProps {\n  examples: IHash\n}\n\nclass ExampleLinks extends Component<ExampleLinksProps, any> {\n\n  constructor(props: ExampleLinksProps) {\n    super(props);\n  }\n\n  render(): React.ReactNode {\n    const examples = this.props.examples;\n    return (\n      <DropDownButton joined={true} label={<div>Examples</div>}>\n        {\n          Object.keys(examples).sort().map(function(key, index) {\n            return (\n              <Permalink\n                mx={2}\n                text={examples[key]}\n                key={index}\n              >\n                {key}\n              </Permalink>\n            );\n          })\n        }\n      </DropDownButton>\n    );\n  }\n}\n\nexport default ExampleLinks;\n","var map = {\n\t\"./001 primitive types.yaml\": 874,\n\t\"./002 abstract data types.yaml\": 875,\n\t\"./003 structures.yaml\": 876,\n\t\"./004 optional types.yaml\": 877,\n\t\"./005 compound types.yaml\": 878,\n\t\"./006 annotations.yaml\": 879,\n\t\"./007 group annotations.yaml\": 880,\n\t\"./008 property annotations.yaml\": 881,\n\t\"./009 array annotations.yaml\": 882,\n\t\"./010 integer validation.yaml\": 883,\n\t\"./011 number validation.yaml\": 884,\n\t\"./012 string validation.yaml\": 885,\n\t\"./013 array validation.yaml\": 886,\n\t\"./014 formula functions.yaml\": 887,\n\t\"./015 formula filters.yaml\": 888,\n\t\"./016 formula math.yaml\": 889,\n\t\"./017 formula string concat.yaml\": 890,\n\t\"./018 formula chained math.yaml\": 891,\n\t\"./019 formula boolean.yaml\": 892,\n\t\"./900 simplest schema.yaml\": 893,\n\t\"./901 network configuration.yaml\": 894,\n\t\"./902 advanced network configuration.yaml\": 895,\n\t\"./903 formula.yaml\": 896\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 873;","module.exports = __webpack_public_path__ + \"examples/001 primitive types.yaml\";","module.exports = __webpack_public_path__ + \"examples/002 abstract data types.yaml\";","module.exports = __webpack_public_path__ + \"examples/003 structures.yaml\";","module.exports = __webpack_public_path__ + \"examples/004 optional types.yaml\";","module.exports = __webpack_public_path__ + \"examples/005 compound types.yaml\";","module.exports = __webpack_public_path__ + \"examples/006 annotations.yaml\";","module.exports = __webpack_public_path__ + \"examples/007 group annotations.yaml\";","module.exports = __webpack_public_path__ + \"examples/008 property annotations.yaml\";","module.exports = __webpack_public_path__ + \"examples/009 array annotations.yaml\";","module.exports = __webpack_public_path__ + \"examples/010 integer validation.yaml\";","module.exports = __webpack_public_path__ + \"examples/011 number validation.yaml\";","module.exports = __webpack_public_path__ + \"examples/012 string validation.yaml\";","module.exports = __webpack_public_path__ + \"examples/013 array validation.yaml\";","module.exports = __webpack_public_path__ + \"examples/014 formula functions.yaml\";","module.exports = __webpack_public_path__ + \"examples/015 formula filters.yaml\";","module.exports = __webpack_public_path__ + \"examples/016 formula math.yaml\";","module.exports = __webpack_public_path__ + \"examples/017 formula string concat.yaml\";","module.exports = __webpack_public_path__ + \"examples/018 formula chained math.yaml\";","module.exports = __webpack_public_path__ + \"examples/019 formula boolean.yaml\";","module.exports = __webpack_public_path__ + \"examples/900 simplest schema.yaml\";","module.exports = __webpack_public_path__ + \"examples/901 network configuration.yaml\";","module.exports = __webpack_public_path__ + \"examples/902 advanced network configuration.yaml\";","module.exports = __webpack_public_path__ + \"examples/903 formula.yaml\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 898;"],"sourceRoot":""}