{"version":3,"sources":["/./src/DSLEditor.jsx","/./src/UserUI.jsx","/./src/App.jsx","/./src/Playarea.tsx","/./src/Permalink.tsx","/./src/Links.tsx","/./node_modules/jellyschema sync","/./src/AllExampleLinks.tsx","/./src/ExampleLinksDropDown.tsx","/./examples sync \\.(yaml)$","/./examples/000 balena os.yaml","/./examples/001 primitive types.yaml","/./examples/002 abstract data types.yaml","/./examples/003 structures.yaml","/./examples/004 optional types.yaml","/./examples/005 annotations.yaml","/./examples/006 group annotations.yaml","/./examples/007 property annotations.yaml","/./examples/008 array annotations.yaml","/./examples/009 integer validation.yaml","/./examples/010 number validation.yaml","/./examples/011 string validation.yaml","/./examples/012 array validation.yaml","/./examples/013 formula functions.yaml","/./examples/014 formula filters.yaml","/./examples/015 formula math.yaml","/./examples/016 formula string concat.yaml","/./examples/017 formula chained math.yaml","/./examples/018 formula boolean.yaml","/./examples/900 simplest schema.yaml","/./examples/901 network configuration.yaml","/./examples/902 advanced network configuration.yaml"],"names":["DSLEditor","props","_this","_classCallCheck","this","_getPrototypeOf","call","state","yamlText","hasError","error","formUI","onChange","bind","_assertThisInitialized","Component","value","setState","ui","jellyschema","e","onError","setDataFromUrl","text","Permalink","decode","react","dist","Permalink_default","a","lib_default","width","mode","theme","name","enableBasicAutocompletion","enableLiveAutocompletion","tabSize","maxLines","Playarea_default","JellyForm","async","Promise","all","__webpack_require__","then","t","stringify","JSON","UserUI","UserUI_classCallCheck","UserUI_possibleConstructorReturn","UserUI_getPrototypeOf","formData","errors","event","schema","jelly","validate","console","log","_this2","h4","onFormChange","renderFormData","placeholder","noop","App","App_classCallCheck","App_possibleConstructorReturn","App_getPrototypeOf","json_schema_text","json_schema","ui_object_text","ui_object","jsonSchemaText","jsonSchema","uiSchemaText","uiSchema","Links_default","src_DSLEditor","onDSLChanged","onDSLError","AllExampleLinks_default","src_UserUI","React","rendition_1","exports","default","createElement","Textarea","__assign","monospace","minRows","autoRows","maxRows","onKeyDown","keyCode","which","preventDefault","noTab","react_1","pako","_super","__extends","encode","deflated","deflate","to","base64encoded","btoa","encodeURIComponent","params","URLSearchParams","window","location","search","encoded","get","decodeURIComponent","atob","inflate","prototype","render","_a","children","__rest","Link","href","getPermalink","Links","Box","Divider","webpackEmptyContext","req","Error","code","keys","resolve","module","id","ExampleLinksDropDown_1","ky_1","r","exampleFilePaths","map","allExamples","AllExampleLinks","componentDidMount","path","content","replace","examples","Permalink_1","ExampleLinksDropDown","DropDownButton","joined","label","Object","sort","key","index","mx","./000 balena os.yaml","./001 primitive types.yaml","./002 abstract data types.yaml","./003 structures.yaml","./004 optional types.yaml","./005 annotations.yaml","./006 group annotations.yaml","./007 property annotations.yaml","./008 array annotations.yaml","./009 integer validation.yaml","./010 number validation.yaml","./011 string validation.yaml","./012 array validation.yaml","./013 formula functions.yaml","./014 formula filters.yaml","./015 formula math.yaml","./016 formula string concat.yaml","./017 formula chained math.yaml","./018 formula boolean.yaml","./900 simplest schema.yaml","./901 network configuration.yaml","./902 advanced network configuration.yaml","webpackContext","webpackContextResolve","o","p"],"mappings":"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AAuB,oDCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB,wDCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB,qDCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB,2DCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB,8DCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB,2DCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB,4DCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB,2DCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB,2DCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB,0DCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB,2DCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB,yDCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB,sDCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB,+DCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB,8DCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB,yDCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB,yDCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB,+DCAxCjD,EAAApD,QAAiB3C,EAAAgJ,EAAuB","file":"3.js","sourcesContent":["import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Flex } from \"rendition\";\nimport Playarea from \"./Playarea\";\nimport * as jellyschema from \"jellyschema\";\nimport Permalink from \"./Permalink\";\n\nimport brace from 'brace';\nimport AceEditor from 'react-ace';\n\nimport 'brace/mode/yaml';\nimport 'brace/theme/github';\n\nfunction noop(_event) {\n}\n\nclass DSLEditor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { yamlText: \"\", hasError: false, error: null, formUI: null };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(value) {\n    this.setState({ yamlText: value });\n    try {\n      const ui = jellyschema.generateJsonAndUiSchema(value);\n      this.setState({formUI: ui, hasError: false });\n      if (this.props.onChange) {\n        this.props.onChange(value, ui);\n      }\n    } catch (e) {\n      this.onError(e);\n    }\n  }\n\n  onError(error) {\n    this.setState({ hasError: true, error: error });\n    if (this.props.onError) {\n      this.props.onError(error);\n    }\n  }\n\n  componentDidMount() {\n    this.setDataFromUrl();\n  }\n\n  setDataFromUrl() {\n    const text = Permalink.decode();\n    if (text) {\n      this.onChange(text);\n    }\n  }\n\n  render() {\n    return (\n      <Box>\n        <Permalink text={this.state.yamlText}/>\n        <Flex>\n          <AceEditor\n            width={\"100%\"}\n            mode=\"yaml\"\n            theme=\"github\"\n            onChange={this.onChange}\n            name=\"ace_editor\"\n            enableBasicAutocompletion={true}\n            enableLiveAutocompletion={true}\n            tabSize={2}\n            maxLines={20}\n            value={this.state.yamlText}\n          />,\n          {this.state.hasError ? (\n            <Playarea value={this.state.error} onChange={e => noop(e)}/>\n          ) : null}\n        </Flex>\n      </Box>\n    );\n  }\n}\n\nexport default DSLEditor;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Divider, Flex, Heading } from \"rendition\";\nimport Playarea from \"./Playarea\";\nimport async from \"./Async\";\nimport * as jelly from \"jellyschema\";\n\nconst JellyForm = async(() => {\n  return import(\"rendition/dist/unstable/components/JellyForm\");\n});\n\nconst stringify = value => JSON.stringify(value, null, 2);\n\n\nclass UserUI extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      formData: null,\n      errors: \"\"\n    };\n  }\n\n  renderFormData(event) {\n    try {\n      const schema = new jelly.JellySchema(this.props.yamlText);\n      let errors = \"\";\n      if (!schema.validate(event.formData)) {\n        errors = stringify(schema.errors());\n      }\n      this.setState({ formData: stringify(event.formData), errors: errors });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    return (\n      <Box>\n        <Heading.h4>Rendered form</Heading.h4>\n        <Flex>\n          {this.props.yamlText ? (\n            <Flex width={1/2}>\n                <JellyForm\n                  width={1/2}\n                  schema={this.props.yamlText}\n                  onFormChange={event => this.renderFormData(event)}\n                />\n            </Flex>\n          ) : null}\n          {this.state.formData ? (\n                <Playarea\n                  width={1/2}\n                  placeholder={\"form data\"}\n                  value={this.state.formData}\n                  onChange={e => this.noop(e)}\n                />\n          ) : null}\n        </Flex>\n        <Divider/>\n        {this.state.errors ? (\n          <Box>\n            <Heading.h4>Form data validation errors</Heading.h4>\n            <Flex>\n              <Playarea placeholder={\"data validation errors\"} value={this.state.errors} onChange={e => noop(e)}/>\n            </Flex>\n          </Box>\n        ) : null}\n      </Box>\n    );\n  }\n\n  noop() {\n  }\n}\n\nexport default UserUI;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Divider, Flex, Heading } from \"rendition\";\nimport Links from \"./Links.tsx\";\nimport Playarea from \"./Playarea.tsx\";\nimport DSLEditor from \"./DSLEditor.jsx\";\nimport UserUI from \"./UserUI.jsx\";\nimport AllExampleLinks from \"./AllExampleLinks\";\n\nconst stringify = value => JSON.stringify(value, null, 2);\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      yamlText: \"\",\n      json_schema_text: \"\",\n      json_schema: {},\n      ui_object_text: \"\",\n      ui_object: {},\n      formData: \"\",\n      hasError: false\n    };\n  }\n\n  noop() {\n  }\n\n  onDSLChanged(text, ui) {\n    const jsonSchemaText = stringify(ui.jsonSchema);\n    const uiSchemaText = stringify(ui.uiSchema);\n    this.setState({\n      yamlText: text,\n      json_schema: ui.jsonSchema,\n      json_schema_text: jsonSchemaText,\n      ui_object: ui.uiSchema,\n      ui_object_text: uiSchemaText,\n      hasError: false\n    });\n  }\n\n  onDSLError(error) {\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    return (\n      <Box>\n        <Links/>\n        <Divider/>\n        <DSLEditor\n          onChange={(text, ui) => this.onDSLChanged(text, ui)}\n          onError={error => this.onDSLError(error)}\n        />\n        <AllExampleLinks/>\n        <Divider/>\n        {!this.state.hasError ? (\n          <UserUI\n            yamlText={this.state.yamlText}\n          />\n        ) : null}\n        <Divider/>\n        <Box>\n          {!this.state.hasError ? (\n            <Box>\n              <Heading.h4>JSON and UI schemas</Heading.h4>\n              <Flex>\n                <Playarea\n                  placeholder=\"json schema\"\n                  onChange={e => this.noop(e)}\n                  value={this.state.json_schema_text}\n                />\n                <Playarea\n                  placeholder=\"ui object\"\n                  onChange={e => this.noop(e)}\n                  value={this.state.ui_object_text}\n                />\n              </Flex>\n            </Box>\n          ) : null}\n        </Box>\n        <Divider/>\n      </Box>\n    );\n  }\n}\n\nexport default App;\n","import * as React from \"react\";\nimport { Textarea, TextareaProps } from \"rendition\";\n\nfunction noTab(event: React.KeyboardEvent<HTMLElement>) {\n  const keyCode = event.keyCode || event.which;\n\n  if (keyCode == 9) {\n    event.preventDefault();\n  }\n}\n\nconst Playarea = (props: TextareaProps) => (\n  <Textarea\n    monospace={true}\n    minRows={12}\n    autoRows={true}\n    maxRows={16}\n    onKeyDown={event => noTab(event)}\n    {...props}\n  />\n);\n\nexport default Playarea;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { DefaultProps, Link } from \"rendition\";\nimport * as pako from \"pako\";\nconst propertyName = \"yaml\";\n\ninterface PermalinkProps extends DefaultProps {\n  text?: string;\n}\n\nclass Permalink extends Component<PermalinkProps, any> {\n  constructor(props: PermalinkProps) {\n    super(props);\n  }\n\n  static encode(text: string): string {\n    let deflated = pako.deflate(text, { to: 'string'});\n    let base64encoded = btoa(deflated);\n    let uriEncoded = encodeURIComponent(base64encoded);\n    return uriEncoded;\n  }\n\n  static decode(): string {\n    try {\n      const params = new URLSearchParams(window.location.search);\n      const encoded = params.get(propertyName);\n      if (params && encoded) {\n        let base64encoded = decodeURIComponent(encoded);\n        let deflated = atob(base64encoded);\n        let inflated = pako.inflate(deflated, {to: 'string'});\n        return inflated;\n      }\n      return null;\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render(): React.ReactNode {\n    const {\n      children,\n      text,\n      ...props\n    } = this.props;\n    return (\n      <Link {...props} href={this.getPermalink()}>{children || \"permalink\"}</Link>\n    );\n  }\n\n  getPermalink() {\n    try {\n      return \"?\" + propertyName + \"=\" + Permalink.encode(this.props.text);\n    } catch (e) {\n      console.log(e);\n    }\n  }\n}\n\nexport default Permalink;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { Box, Divider } from \"rendition\";\n\nclass Links extends Component<any, any> {\n\n  constructor(props: any) {\n    super(props);\n  }\n\n  render(): React.ReactNode {\n    return (\n      <Box>\n        Documentation:\n        <a href={\"https://github.com/balena-io-modules/balena-cdsl/issues/15\"}>\n          What is supported\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"https://github.com/balena-io/balena/blob/9471e79bcdaa75a567e89b7d3ce4a11979d38485/specs/configuration-dsl.md\"\n          }\n        >\n          DSL specification\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"https://github.com/balena-io/balena/blob/614c8f4c3960008f5da7feb63752040287c1f540/specs/configuration-dsl-mapping-extension.md\"\n          }\n        >\n          Mapping extensions\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"https://github.com/balena-io/balena/blob/8e9c7c177e8d730484fbfce5c4281d4c7c205565/specs/json-schema-extensions.md\"\n          }\n        >\n          JSON Schema extensions\n        </a>\n        &nbsp;|&nbsp;\n        <a\n          href={\n            \"https://docs.google.com/document/d/1GzzTOEkxIg8mis7c6WU41AU7AIYLYhImgJ_5383Kknc/edit\"\n          }\n        >\n          Known UI issues\n        </a>\n        <Divider/>\n      </Box>\n    );\n  }\n}\n\nexport default Links;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 900;","import * as React from \"react\";\nimport { Component } from \"react\";\nimport ExampleLinksDropDown from \"./ExampleLinksDropDown\";\n\nimport ky from \"ky\";\n\nfunction importAll(r: any) {\n  return r.keys().map(r);\n}\n\nconst exampleFilePaths = importAll(require.context(\"../examples\", true, /\\.(yaml)$/));\n\ninterface IHash {\n  [key: string]: string\n}\n\nlet allExamples: IHash = {};\n\ninterface AllExamplesState {\n  allExamples: IHash\n}\n\nclass AllExampleLinks extends Component<any, AllExamplesState> {\n\n  constructor(props: any) {\n    super(props);\n    this.state = { allExamples: {} };\n  }\n\n  componentDidMount(): void {\n    exampleFilePaths.map((path: string) => {\n      ky.get(path).text().then((content) => {\n        const name = path.replace(\"examples/\", \"\");\n        allExamples[name] = content;\n      }).then(() => {\n        this.setState({ allExamples: allExamples });\n      });\n    });\n  }\n\n  render(): React.ReactNode {\n    return (\n      <ExampleLinksDropDown examples={this.state.allExamples}/>\n    );\n  }\n}\n\nexport default AllExampleLinks;\n","import * as React from \"react\";\nimport { Component } from \"react\";\nimport { DropDownButton } from \"rendition\";\nimport Permalink from \"./Permalink\";\n\ninterface IHash {\n  [key: string]: string\n}\n\ninterface ExampleLinksProps {\n  examples: IHash\n}\n\nclass ExampleLinksDropDown extends Component<ExampleLinksProps, any> {\n\n  constructor(props: ExampleLinksProps) {\n    super(props);\n  }\n\n  render(): React.ReactNode {\n    const examples = this.props.examples;\n    return (\n      <DropDownButton joined={true} label={<div>Examples</div>}>\n        {\n          Object.keys(examples).sort().map(function(key, index) {\n            return (\n              <Permalink\n                mx={2}\n                text={examples[key]}\n                key={index}\n              >\n                {key}\n              </Permalink>\n            );\n          })\n        }\n      </DropDownButton>\n    );\n  }\n}\n\nexport default ExampleLinksDropDown;\n","var map = {\n\t\"./000 balena os.yaml\": 905,\n\t\"./001 primitive types.yaml\": 906,\n\t\"./002 abstract data types.yaml\": 907,\n\t\"./003 structures.yaml\": 908,\n\t\"./004 optional types.yaml\": 909,\n\t\"./005 annotations.yaml\": 910,\n\t\"./006 group annotations.yaml\": 911,\n\t\"./007 property annotations.yaml\": 912,\n\t\"./008 array annotations.yaml\": 913,\n\t\"./009 integer validation.yaml\": 914,\n\t\"./010 number validation.yaml\": 915,\n\t\"./011 string validation.yaml\": 916,\n\t\"./012 array validation.yaml\": 917,\n\t\"./013 formula functions.yaml\": 918,\n\t\"./014 formula filters.yaml\": 919,\n\t\"./015 formula math.yaml\": 920,\n\t\"./016 formula string concat.yaml\": 921,\n\t\"./017 formula chained math.yaml\": 922,\n\t\"./018 formula boolean.yaml\": 923,\n\t\"./900 simplest schema.yaml\": 924,\n\t\"./901 network configuration.yaml\": 925,\n\t\"./902 advanced network configuration.yaml\": 926\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 904;","module.exports = __webpack_public_path__ + \"examples/000 balena os.yaml\";","module.exports = __webpack_public_path__ + \"examples/001 primitive types.yaml\";","module.exports = __webpack_public_path__ + \"examples/002 abstract data types.yaml\";","module.exports = __webpack_public_path__ + \"examples/003 structures.yaml\";","module.exports = __webpack_public_path__ + \"examples/004 optional types.yaml\";","module.exports = __webpack_public_path__ + \"examples/005 annotations.yaml\";","module.exports = __webpack_public_path__ + \"examples/006 group annotations.yaml\";","module.exports = __webpack_public_path__ + \"examples/007 property annotations.yaml\";","module.exports = __webpack_public_path__ + \"examples/008 array annotations.yaml\";","module.exports = __webpack_public_path__ + \"examples/009 integer validation.yaml\";","module.exports = __webpack_public_path__ + \"examples/010 number validation.yaml\";","module.exports = __webpack_public_path__ + \"examples/011 string validation.yaml\";","module.exports = __webpack_public_path__ + \"examples/012 array validation.yaml\";","module.exports = __webpack_public_path__ + \"examples/013 formula functions.yaml\";","module.exports = __webpack_public_path__ + \"examples/014 formula filters.yaml\";","module.exports = __webpack_public_path__ + \"examples/015 formula math.yaml\";","module.exports = __webpack_public_path__ + \"examples/016 formula string concat.yaml\";","module.exports = __webpack_public_path__ + \"examples/017 formula chained math.yaml\";","module.exports = __webpack_public_path__ + \"examples/018 formula boolean.yaml\";","module.exports = __webpack_public_path__ + \"examples/900 simplest schema.yaml\";","module.exports = __webpack_public_path__ + \"examples/901 network configuration.yaml\";","module.exports = __webpack_public_path__ + \"examples/902 advanced network configuration.yaml\";"],"sourceRoot":""}